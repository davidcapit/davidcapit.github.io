<!DOCTYPE html>
<html>
<head>
<link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>
<style>
body{
background-color:#0173a3;
font-family:'Nunito';
}
.center {
margin: auto;
width: 320px;
padding: 0px;
}
.table{
color:#FFFFFF;
width:100%;
}
.rightTextAlign{
text-align: right;
}
.leftTextAlign{
text-align: left;
}
#chart_div{
margin: auto;
height: 200px;
width: 100%;
padding: 0px;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);
function drawChart() {
var data = new google.visualization.DataTable();
data.addColumn('datetime', 'Time');
data.addColumn('number', 'Cap-It Index');
data.addRows([
[new Date(2022,2,24,8,15,0),591.71],
[new Date(2022,2,24,8,30,0),594.93],
[new Date(2022,2,24,8,45,0),594.03],
[new Date(2022,2,24,9,0,0),599.75],
[new Date(2022,2,24,9,15,0),600.28],
[new Date(2022,2,24,9,30,0),599.81],
[new Date(2022,2,24,9,45,0),599.19],
[new Date(2022,2,24,10,0,0),607.18],
[new Date(2022,2,24,10,15,0),608.72],
[new Date(2022,2,24,10,30,0),609.9],
[new Date(2022,2,24,10,45,0),611.72],
[new Date(2022,2,24,11,0,0),618.21],
[new Date(2022,2,24,11,15,0),612.25],
[new Date(2022,2,24,11,30,0),613.02],
[new Date(2022,2,24,11,45,0),606.68],
[new Date(2022,2,24,12,0,0),608.16],
[new Date(2022,2,24,12,15,0),607.92],
[new Date(2022,2,24,12,30,0),610.64],
[new Date(2022,2,24,12,45,0),608.64],
[new Date(2022,2,24,13,0,0),603.59],
[new Date(2022,2,24,13,15,0),606.94],
[new Date(2022,2,24,13,30,0),610.17],
[new Date(2022,2,24,13,45,0),609.95],
[new Date(2022,2,24,14,0,0),611.18],
[new Date(2022,2,24,14,15,0),608.42],
[new Date(2022,2,24,14,30,0),603.67],
[new Date(2022,2,24,14,45,0),601.48],
[new Date(2022,2,24,15,0,0),603.04],
[new Date(2022,2,24,15,15,0),605.98],
[new Date(2022,2,24,15,30,0),604.36],
[new Date(2022,2,24,15,45,0),603.42],
[new Date(2022,2,24,16,0,0),602.61],
[new Date(2022,2,24,16,15,0),601.13],
[new Date(2022,2,24,16,30,0),601.11],
[new Date(2022,2,24,16,45,0),603.19],
[new Date(2022,2,24,17,0,0),603.05],
[new Date(2022,2,24,17,15,0),601.16],
[new Date(2022,2,24,17,30,0),601.18],
[new Date(2022,2,24,17,45,0),601.17],
[new Date(2022,2,24,18,0,0),601.56],
[new Date(2022,2,24,19,0,0),601.65],
[new Date(2022,2,24,20,0,0),601.65],
[new Date(2022,2,24,21,0,0),601.65],
[new Date(2022,2,24,22,0,0),601.65],
[new Date(2022,2,24,23,0,0),601.65],
[new Date(2022,2,25,0,0,0),601.17],
[new Date(2022,2,25,1,0,0),603.04],
[new Date(2022,2,25,2,0,0),602.91],
[new Date(2022,2,25,3,0,0),602.91],
[new Date(2022,2,25,4,0,0),602.91],
[new Date(2022,2,25,5,0,0),602.91],
[new Date(2022,2,25,6,0,0),602.91],
[new Date(2022,2,25,7,0,0),602.91],
[new Date(2022,2,25,7,15,0),602.91],
[new Date(2022,2,25,7,30,0),601.74],
[new Date(2022,2,25,7,45,0),596.89],
[new Date(2022,2,25,7,45,0),596.89]
]);
var date_formatter = new google.visualization.DateFormat({
pattern: "dd MMMM yyyy HH:mm"
});
date_formatter.format(data, 0);
var high = ((data.getColumnRange(1).max));
var low = (data.getColumnRange(1).min);
var dif = high-low;
var trail_percent = 0.1;
var trail = (trail_percent*dif);
var min_trail = 1
var min_y = 0;
trail = Math.max.apply(null, [trail,min_trail]);
var max_price = high + trail;
var min_price = low - trail;
min_price = Math.max.apply(null, [min_price, min_y]);
var options = {
title: '1D',
chartArea: {'width': '85%', 'height': '60%'},
areaOpacity: 0.5,
focusTarget: 'category',
animation: {startup: true, duration: 100,easing: 'in'},
crosshair: {trigger: 'both', orientation: 'vertical', opacity: 1, color : '#fcb247' },
tooltip:{trigger:'both'},
series: {0:{color: '#0173a3', visibleInLegend: false}},
legend: {position: 'none'},
hAxis: {title: '',
format: 'HH:00',
gridlines:{count : 4, color:'FFFFFF'}},
vAxis: {minValue: min_price, maxValue: max_price,
gridlines:{count : 4},minorGridlines:{interval:0}}};
var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
chart.draw(data, options);
};
$(window).resize(function() {
if(this.resizeTO) clearTimeout(this.resizeTO);
this.resizeTO = setTimeout(function() {
$(this).trigger('resizeEnd');
}, 100);
});
$(window).on('resizeEnd', function() {
drawChart();
});
</script>
</head>
<body>
<div id="chart_div"></div>
<div class = "center">
<table class="table">
<tbody>
<tr>
<td class = "rightTextAlign">Latest:</td>
<td id="latest-index">595.7</td>
<td id="latest-date" class = "leftTextAlign">25 March 2022 08:00</td>
</tr>
<tr>
<td class = "rightTextAlign">High:</td>
<td id="high-index">618.2</td>
<td id="high-date" class = "leftTextAlign">24 March 2022 11:00</td>
</tr>
<tr>
<td class = "rightTextAlign">Low:</td>
<td id="low-index">591.7</td>
<td id="low-date" class = "leftTextAlign">24 March 2022 08:15</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>
